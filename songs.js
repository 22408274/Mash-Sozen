const songs = [
  {
    title: "Zhiwjum",
    author: "Sashi Zaifi",
    audio: "audio/Zhiwjum.mp3",
    chords: "Am E F C G Dm Fm",
    lyrics: ` 
Am    
Zhiwjum tu iktam, 
E
Tu mu jūn tilabat - uz we vam, 
F
Tu we pūndteyath rines xu, sa, 
E
Az mu lūve kam xu, kam xu, kam... 
•
Am
Zhiwjum tu wite, 
E
Cakine murd yet duzax dive, 
F
Uzum ghal pithinteyat, xhinum,
E 
Az zibo tu qulf cathathe we. 
•
C
Zhiwjum tu mijoz, 
G
Fuk tu loghboze-ata, tu noz, 
Dm
Murd pūstak pitewe tar pithind, 
E
Bad awqot joyte cavare koz! 
•
F
Zhiwjum tu, misol, 
C
Canathathe umre murd alol, 
G
Yo cakine yast aga xayol, 
Dm                    E
Uzum pūndte az jebak wexhchin mol, 
•
Am
Zhiwjum tu lu te, 
E
Sa az arjoy ved mu baxt vire
F 
Uz tu baxt virim xu, vam, chisum, 
E
Tut mu baxt cathothj azor gire. 
•
Fm
Zhiwjum tu, ubul 
C
Mis casam az ishq-ata xijul,
G 
Bad mu thir xubore barfalak, 
Dm                    E
Ar taraf cayest - cayest yam shamol... 
•
PRIPEV
F       C
Zhiwjum tu 
G
Zhiwjum tu 
F
E, ba Xudo,
      C
Zhiwjum tu 
G 
Zhiwjum tu 
F
E, ba Khudo,
F       C
Zhiwjum tu
G
Zhiwjum tu  
•
Am
Zhiwjum tu be sabr,
E 
Lo “az xir pero sa ay ke abr”,
F 
Uz kinum de xu fano yadum,
E 
Tu ayrūn capexhce mo tu jawr,
•
Am
Zhiwjum tu, mazoq 
E
Cakine mu, at mu noye qoq,
F 
Yo Mawlo jūma cathed ye ruz,
E 
Az me mu tizhdo thu joyva choq, 
•
C
Zhiwjum tu xu xay, 
G
Cakine mis az pithind mu ay,
Dm
Mund mu mithte canarist ye joy, 
E
At kuchara canarist ye fay... 
•
F
Zhiwum tu, nigin 
C
Catilabe az rage zamin, 
G
Uz yakbor mis canalūm “id qin”,
Dm                   E 
Tu yakbor mis canalūve “ofarin”, 
•
Am
Zhiwjum tu be ad,
E 
Aga iga zhiwjat mis cavad,
F 
Tu ar xhab mam soz calūve werd,
E 
At yu mis arruz cakixht tu rad, 
•
Fm
Zhiwjum tu, dunyo-te
C 
Canaviriye baxt ijo,
G 
Bad ye xhab tu ragum at raswo, 
Dm                   E  
Az dive cadethd - cadethd dis fano. 
•
PRIPEV
Zhiwjum tu (2x) 
E, ba Xudo,
Zhiwjum tu  (2x) 
E, ba Khudo,
Zhiwjum tu (2x)
    `,
    strumming: "D D U U U D D U"
    
  },
  {
    title: "Marg cemen",
    author: "Sashi Zaifi",
    audio: "audio/Marg_cemen.mp3",
    chords: "Em D Am C G",
    lyrics: `
PRIPEV (2x)
Em
Marg cemenand zhiwjum chisum
D
Wefand dusath ku ram yasto
Am
Cayest go nozanin jūnen
C                     Em
Wefand xharm kame-kam yasto, ku yasto? 
•
Em
Zhiwjum, marg xūna zhixhtow sam
D
Ku kalla tham taram yakbor
2x
Am
Mashand rangte taram niwdo
C                     Em
Suzaxhat iku gham yasto, ku yasto? 
•
2x
G
Marg nan xoixhum wintow
D
Ku wam ghunj duse chugh suthjo
2x
Am
Wam jigarand iku suzaxh
C                     Em
Uz we cugh ku catham, yasto ku yasto? 
•
2x
G
Marg dod xoixhum pexhcum
D
Wend az toqage xhoj kadand
2x
Am
We miyend bar mash dodenand
C                     Em
Tiraxtayat ku pam yasto, ku yasto? 
•
2x
G
Zhiwjum, marg pūndte rawūn sam
D
Ye sayle we qate/qatir thathum
2x
Am
Ye gozak, yo ye zhir, yamte
C                     Em 
Go cathidta xu dam, yasto ku yasto? 
•
2x
G
O Zaif, pis tu jūn arwaxt
D
Yu de yat, pexhc “tu farmūn kay?”
2x
Am
Yane, e dust, tu noyandath
C                     Em
Tut cayathch pis mu nam, yasto ku yasto? 
•
PRIPEV 
Marg cemenand zhiwjum chisum
Wefand dusath ku ram yasto
2x
Cayest go nozanin jūnen
Wefand xharm kame-kam yasto, ku yasto?

Ku yasto... (4x)
    `,
    strumming: "D D U U U D D U"
  },

  {
    title: "Borůnê serun awo",
    author: "Sashi Zaifi",
    audio: "audio/Borone_serun_awo.mp3",
    chords: "E Am Dm F ", 
    lyrics: `
E
Borůne serun awo
Am
Nam-namê δed az awo
Dm                  
Osmůn rinêwd, dunyo firêwd
F                E
Šar-šar zaminard nawo
•
E
Ya šol xu sivdtê ribizd
Am
Purɣām dil gurm piʓt
Dm
Uzum ayrůn — yuẋk o borůn
F                E 
Mam ẋab wam picard tizd
•
E
Ɣām dil, alām rangtê, xirt
Am
Dārδ bar dilê maš virt
Dm
Arang ɣubor, maš išqê xor
F                E
Borůne ɣamgin zidirt
•
E
Ayrůn-ayrůn tar mu čost
Am
Čirum wam ẋab wam ziwost
Dm
Mak, o Zaif, wam dil xanif
F                E
Arčiz vid, lo ruyê rost
    `,
    strumming: "D U B D U"
  },
  {
    title: "Tuyat důnd",
    author: "Zafar Band",
    audio: "audio/Tuyat_dond.mp3",
    chords: "Am Dm E F ", 
    lyrics: `
Am
Amat gul tu mam dunyotê
                 Dm
Amat išq, am muabbat
Issum čud uz tu yastêndê
E             Am
Išqand navuδj oxirat
Am
Tu šintow uz winum xirand
                Dm
Tu niwdow — borůn darun
Tu yastê mam zindgêndê
F             E
Xušruyê ar fuk darun
• PRIPEV
Am
Tuyat důnd (3×)
Mund mu jůn at mu jůnůnat
 Dm            E
Tuyat důnd(3×) tuyat důnd, 
Ar zamin at pe osmůnat
        Am
Mund tu důnd

Am
Tuyat důnd (3×)
Turdta důnd lům
                 Dm
Mam xu soz at mam muqům
              E
Tuyat důnd(3×) tuyat důnd, 
F             E
Ar zamin at pê osmůn

Am
Famum, qinat vad at šintat
                  Dm  
Xu qinêyat čud murd rux
Wê ruxêndêyum uz wint tu  
   E               Am
Famtum, turdum navuδj uz

Am
Δu gulat ɣulla murd čudat 
                Dm
Nawintum wev ɣulla sid
Ẋacat be ẋacêndě vudat
F               E
Δu gulat ɣulla tu čud

• PRIPEV
Tuyat důnd
Mund mu jůn at mu jůnůnat

Tuyat důnd
Ar zamin at pe osmůnat
Mund tu důnd

Tuyat důnd
Turdta důnd lům
Mam xu soz at mam muqům

Tuyat důnd
Ar zamin at pê osmůn

Am
Famum, xir muɣunat, δar tu
                Dm
Amo murd šič nist δarê 
Xu nistêndêyat mis yast tu
 E            Am
Arcůnd δar mis caviyê

Am
Qinê čizard zindagêndê
               Dm
Důnjat lakê xu virê
Dê virudat, badta famê
 F             E
Čayat tuyat tu yastê

Am
Vêrodar at yaxʓinenard
                 Dm
Baɣer lůvam mašam wint
Xu yošendêyaϑ dê famet
F                E
Důnjat ruz be išq natizd

Tuyat důnd
Mund mu jůn at mu jůnůnat

Tuyat důnd
Ar zamin at pe osmůn
    `,
  strumming: "D U B D U"
  },
  {
    title: "Yenaken",
    author: "Sashi Zaifi",
    audio: "audio/Yenaken.mp3",
    chords: "C Em Am G D ", 
    lyrics: `
 C                         Em
Murdê mam dunyotê sar bad yenaken
 C                    Em
Wāδ calůven rostê fuk pê cemaken
Am                        G
Wāδ naδen yakbor mu fand, mardum jino
Am                      D
Boyta sam, yo xušta sam mev meϑaken
•
C                  Em
Fuk kaxoenen dijat pê yenakand
Am                       G
Ku čisen, žirak čê wêẋt, dewolaken
Am                     Em
Uz čisum yenakta lůvd ‘tut fuk nixuẋč’
Am                   D
Dizga dewolčid magam buq selaken
•
C                         Em
Murdê mam dunyotê sar bad yenaken
C                     Em
Wāδ calůven rostê fuk pê cemaken
Am                        G
Wāδ naδen yakbor mu fand, mardum jino
Am                      D
Boyta sam, yo xušta sam mev meϑaken
•
C                       Em
Yenaken go ẋab rinêsum, nobiɣ̌in
Am                      G
Wāδ winen mund jůnaken mis xelaken
Am                      Em
At dê famen, išq diland arčind ribim
Am                    D
Čisê, lůvê, ẋac baɣêr ar yelaken
•
C                         Em
Murdê mam dunyotê sar bad yenaken
C                     Em
Wāδ calůven rostê fuk pê cemaken
Am                        G
Wāδ naδen yakbor mu fand, mardum jino
Am                      D
Boyta sam, yo xušta sam mev meϑaken
•
C                         Em
Cůnd xu δust δām, ar azor yenak čisum
Am                 G
Yenaken az zindagê nomeδaken
Am                       Em
At uzum ẋo yenakard dakčuɣ̌j xu dil
Am                     D
Načisum čāy az zibo mu ẋelaken 
`,
    strumming: "D D U U U D D U"       
},
  {
    title: "Telefůnen",
    author: "Baboš",
    audio: "audio/Telefonen.mp3",
    chords: "Am F G ", 
    lyrics: `
 Am
Niϑum yê boɣ darun
  F
Lapaϑ tu fikrêyum
    G
Yadum ar tu dargo
 Am
Xaẋaϑ tu nům qiwum
•
Am         F
Telefůnen, amsoyaen
        G        Am
Az lap qiwdow tu naqiwen
 Am           F
Deδumta uz tar tu xůna
     G            Am
Ičay nafamt tuyat tarka
•
 Am
Arjoy tu nům calům
      F
Lůven ya bewafo
     G
Amo xoiẋ mund nist
       Am
Sittow az wam judo
•
Am                    F
Manoɣ̌, mu jůn, mak mu badnům
       G         Am
Tu wizůnat, yo Xuδoyjůn
  Am                      F
Išq canavid tund, qinaϑ xu makin
      G           Am
Canažiwjat, bezor xu mak `,
    strumming: "D U B D U"
  },
  {
    title: "Čirdta čoren",
    author: "Sashi Zaifi",
    audio: "audio/Chirdta_choren.mp3",
    chords: "C G Am F", 
    lyrics: `
C
Ar yenakard xu kallāyum
G        Am        
Ajab bamazā ɣiδayum
F              G         C     G
Čirdta čoren maδ ɣacen, ku lo?
•
C
Zindagê farq az fuk sůgen
G             Am
Čordor, siyo cem-virůɣ̌en
F              G          C    G
Čirdta čoren maδ ɣacen, ku lo?
•
C
Ilavê molê dunyo yod
G            Am
Ɣulůmê xurd čidům šo yod
F               G          C    G
Čay bowar kiẋt, wam diland iku?
•
C
Manoyê ikdizga koren
G           Am
Yanê xubaϑta xurd čoren
F              G         C     G
Čirdta čoren maδ ɣacen, ku lo?
•
C
Zindagê farq az fuk sůgen
G             Am
Čordor, siyo cem-virůɣ̌en
F              G          C    G
Čirdta čoren maδ ɣacen, ku lo?
•
C
At yuyo az sinfê čorand
G            Am
Gul wamard ẋikirt bozorand
F                G         C    G
Δid xu jůn mis — nalakiẋt pê xu
•
C   
At vidoyê wam we rafiq vud
G          Am
Důnjat bozorê xarid čid
F              G         C     G
Čirdta čoren maδ ɣacen, ku lo?
•
C
Dunyotê išq dê diruɣ sut
G          Am
Disaϑ daryo tirinê buɣ sut
F              G        C   G
Pas buzurgê murd divest iwu
•
C
Satul ika daf sado pas
G       Am
Bemanê Mawlo niko pas
F              G         C     G
Čirdta čoren maδ ɣacen, ku lo? `,
    strumming: "D D U U U D D U"
  },
  {
    title: " Vo zimistůn, vo Xaraɣ",
    author: "Nekruz",
    audio: "audio/Vo_zimiston_vo_Kharagh.mp3",
    chords: "Am Dm E", 
    lyrics: `
Am
Vo zimistůn, vo Xaraɣ
             Dm
Ẋabata mast, voyum uz
              E
Vo ẋitêrʓen, vo tu dargo
          Am
Vo pê tu dargoyum uz
•
Am
At Xaraɣard nist yê banda
             Dm
Ɣayrê bêsoib kaden
              E
Woẋum at senum xuyat
           Am
Wev kaden amroyum uz
•
Am
Nay, uzum ošiqê nist
            Dm
Masam awas mund tar kaxoy
                   E
Masteyandum zimc tar zimc
             Am
Wêδ tar wêδ, ẋoy pê ẋoy
•
Am
Go ijoyand gir sam
            Dm
Gota tim tar iga joy
                   E
Bum jino, meϑin pê čidat
              Am
Ẋab dê sut, arjoyum uz 
•
Am
Vo zimistůn, vo Xaraɣ
              Dm
Ẋabata mast, voyum uz
              E
Vo ẋitêrʓen, vo tu dargo
          Am
Vo pê tu dargoyum uz
•
Am
At Xaraɣard nist yê banda
              Dm
Ɣayrê bêsoib kaden
              E
Woẋum at senum xuyat
            Am
Wev kaden amroyum uz
•
Am
Uz Lidušard lům, nistat
               Dm
Ošiqen darδand kasal 
                 E
Uz Lidušard lům, mazin
            Am
Tu xubaϑ xu be ajal
•
Am
Uz Lidušard lům, girsa
             Dm
Girsa, waxt yastê ɣal
              E
Ganda ošiq, kalta saglag
          Am
Ɣula beparwoyum uz `,
    strumming: "D D U U D U"
  },
  {
    title: "Oxhnoyê sar nazdik at sar δar",
    author: "Sashi Zaifi",
    audio: "audio/Oxhnoe_sar_nazdik.mp3",
    chords: "Em D Am C F G", 
    lyrics: ` 
Em                   D
Nurat, amo čirum, uz ošiqum
Am           C         Em
Xokum agar, xokum, bar sar Ali
                        D
Čirum pê dunyo, ku lo, uz bedilum
Am              C    Em
Ay, dilê duzdidayu, dilbar — Ali
• PRIPEV
Am      F       G                   Em
Ay, oẋnoyê sarê nazdik at sar δar — Ali
Am
Yo Aliye
Em
Yo Aliye
•
Em                  D
O, suxê silmůn, tu mêrê yu wint
Am      C          Em
Woy bar olê, dilê Xaybar — Ali
Em                    D
Dinê Muammad aga peδo cačud
Am      C          Em
Roê sofoê — we payumbar Ali
• PRIPEV
Am      F       G                   Em
Ay, oẋnoyê sarê nazdik at sar δar — Ali
Am
Yo Aliye
Em
Yo Aliye
•
Em                D
Uz ba umeδê tuta yakruz yadê
Am       C              Em
Joyum turd čuɣ̌j yê-thu gawar, Ali
Em                   D
Tamê Izroil aga vud turd mu jůn
Am           C          Em
Ya xu, zê az xoktê mu daftar, Ali
• PRIPEV
Am      F       G                   Em
Ay, oẋnoyê sarê nazdik at sar δar — Ali
Am
Yo Aliye
Em
Yo Aliye `,
    strumming: "D U B D U"
  },
  {
    title: "Yůmj sanam",
    author: "Anis Chorshanbiev",
    audio: "audio/Yomj_sanam.mp3",
    chords: "Am G F E", 
    lyrics: `
Am                  G
Mestand wam rux ar tu dargo
        F               E
Ku nighūgh tu mu nolao, ay bewafo
Am                     G
Uz ar tu dargo tu tuth bunando 
        F              E
Tu kud mu amro, ku naxhte tu

• PRIPEV
 Am           
Yůmj boɣenardta δām qadam
        G   
Boɣ-tar-boɣta ẋikarum wam
      F
Go pê čaẋmā niϑum pê wam
        E
Lakin yakbor winum wam
• 
Am                G
Ay Yůmj sanam, tu qinê mu
      F             E
Dê xu nozandta zinê mu
Am                G
Az xu išqta dilgirê mu
          F          E
Badê cůnd solta pirê mu

• PRIPEV
 Am
Yůmj boɣenardta δām qadam
        G
Boɣ-tar-boɣta ẋikarum wam
      F
Go pê čaẋmā niϑum pê wam
        E
Lakin yakbor winum wam
•
Am                  G
Az Xuδoyjůn mund yê armůn
   F                 E
Yo Xuδoyjůn, tu čis mu jůn
 Am            G
Ar tu awlêyum sargarδůn
          F            E
Lům turd xu soz at mam muqům

• PRIPEV
 Am
Yůmj boɣenardta δām qadam
        G
Boɣ-tar-boɣta ẋikarum wam
      F
Go pê čaẋmā niϑum pê wam
        E
Lakin yakbor winum wam `,
    strumming: "D U B D U"
  },
  {
    title: "Arůd nist zindagê",
    author: "Alim Elnazarov",
    audio: "audio/Arod_nist_zindage.mp3",
    chords: "Am G F E", 
    lyrics: `
  Am                         G 
Wāδta murd lůven tê, saylê mam jaůn
                       F
Arůd nist zindagê armê biyabůn
                      E
Dê xu yošê maϑêw ar mê kuistůn 
• 
 Am                   G
Wāδ nāla tut doimaϑ ruaftoda
                           F
Tund tu dil ar qafas, ārang parandā
                       E
Arjoyaϑ tu winam, tund tu dil xafā
• 
  Am                           G
Tut mu xezand dê vad, tuyaϑat murd bas
                            F
Ɣayrê tu, tar ičizga mund nist awas
                               E
Lāk tam mu dil mis ment doim ar qafas 
•
  Am                     G
Arůd mu zindagê, arůd mu xušê
                           F
Arůd mu qismat at mu yor at umrê
                        E
Ɣayrê Pomir nist joydodê bidê
    `,
    strumming: "D D U U D U"
  }
];

document.addEventListener("DOMContentLoaded", () => {
  const songContent = document.getElementById("songContent");
if (songContent) {
  songContent.classList.add("hidden"); // скрываем при первом входе
}

  const songListEl = document.getElementById("song-list");
  const searchInput = document.getElementById("song-search");

    const leftPanel = document.getElementById("leftPanel");

  if (searchInput && leftPanel) {
    searchInput.addEventListener("focus", () => {
      leftPanel.classList.remove("hidden");
    });
  }

  function groupByArtist(songs) {
    return songs.reduce((acc, song) => {
      if (!acc[song.author]) acc[song.author] = [];
      acc[song.author].push(song);
      return acc;
    }, {});
  }

  function renderSongList(filter = "") {
    songListEl.innerHTML = "";

    const grouped = groupByArtist(songs);
    const search = filter.toLowerCase();

    Object.entries(grouped).forEach(([artist, artistSongs]) => {
      const filteredSongs = artistSongs.filter(song =>
        song.title.toLowerCase().includes(search)
      );

      if (filteredSongs.length === 0) return;

      const artistBlock = document.createElement("div");
      artistBlock.className = "artist-block";

      const artistName = document.createElement("div");
      artistName.className = "artist-name";
      artistName.textContent = artist;

      const songUl = document.createElement("ul");
      songUl.className = "artist-songs";
      songUl.style.display = "none";

      artistName.addEventListener("click", () => {
        songUl.style.display =
          songUl.style.display === "none" ? "block" : "none";
      });

      filteredSongs.forEach(song => {
        const li = document.createElement("li");
        li.textContent = song.title;

        li.addEventListener("click", () => {
          loadSong(song);
        });

        songUl.appendChild(li);
      });

      artistBlock.appendChild(artistName);
      artistBlock.appendChild(songUl);
      songListEl.appendChild(artistBlock);
    });
  }

  searchInput.addEventListener("input", e => {
    renderSongList(e.target.value);
  });

  renderSongList();
  

});
function loadSong(song) {
  document.getElementById("song-title").textContent = song.title;
  document.getElementById("song-author").textContent = "Shoir: " + song.author;

  document.getElementById("song-lyrics").innerHTML =
    highlightChords(song.lyrics.trim());

  renderChords(song.chords);
  renderStrumming(song.strumming);

  const audio = document.getElementById("audio-player");
  if (song.audio && audio) {
    audio.src = song.audio;
    audio.load();
  }
  document.getElementById("songContent").classList.remove("hidden");
}

function renderChords(chordsText) {
  const chordsDiv = document.getElementById("song-chords");
  chordsDiv.innerHTML = "";

  chordsText.split(" ").forEach(chord => {
    chordsDiv.innerHTML += `
      <div class="chord-img">
        <img src="chords/${chord}.jpg" alt="${chord}">
        <span>${chord}</span>
      </div>
    `;
  });
}

function renderStrumming(strummingText) {
  const container = document.getElementById("song-strumming");
  container.innerHTML = "";

  if (!strummingText) return;

  strummingText.split(" ").forEach(step => {
    const span = document.createElement("span");
    let symbol = "";
    let explanation = "";

    if (step === "D") {
      symbol = "⬇";
      explanation = "Ar bir";
      span.className = "down";
    } else if (step === "U") {
      symbol = "⬆";
      explanation = "Pê tir";
      span.className = "up";
    } else if (step === "B") {
      symbol = "⬇";
      explanation = "Ciqast";
      span.className = "bass";
    }

    span.innerHTML = `
      <div class="symbol">${symbol}</div>
      <div class="explanation">${explanation}</div>
    `;
    container.appendChild(span);
  });
}

function highlightChords(text) {
  const chordRegex = /\b([A-G](?:#|b)?m?(?:7|maj7|sus2|sus4)?)\b/g;

  return text
    .split("\n")
    .map(line => {
      const isChordLine = /^[\sA-G#bm0-9maj7sus]+$/.test(line.trim());
      if (isChordLine) {
        return line.replace(chordRegex, '<span class="chord">$1</span>');
      }
      return line;
    })
    .join("\n");
}
document.addEventListener("DOMContentLoaded", () => {
  const btn = document.getElementById("fullscreen-btn");
  const songContent = document.getElementById("songContent");

  if (!btn || !songContent) return;

  btn.addEventListener("click", () => {
    songContent.classList.toggle("fake-fullscreen");

    btn.textContent = songContent.classList.contains("fake-fullscreen")
      ? "❌ Naẋtido"
      : "⛶ Polni ekran";
  });
});


  


